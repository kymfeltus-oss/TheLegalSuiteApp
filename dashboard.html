<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>The Legal Suite ¬∑ Dashboard</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet"/>

<style>
:root {
  --rose:#E0BFB8;
  --lilac:#EEE6F2;
  --ivory:#F8F5F2;
  --ink:#1C1C1C;
  --shadow:0 6px 14px rgba(0,0,0,0.1);
  --card:#ffffff;
  --header-h:64px;
}

* { box-sizing:border-box; margin:0; padding:0; }
html,body { height:100%; width:100%; overflow-x:hidden; }
body {
  font-family:"Poppins",sans-serif;
  background:var(--ivory);
  color:var(--ink);
}

.app {
  min-height:100vh;
  display:grid;
  grid-template-columns:260px 1fr;
  grid-template-rows:auto 1fr;
  grid-template-areas:
    "header header"
    "sidebar main";
}

/* Header */
.header {
  grid-area:header;
  height:var(--header-h);
  background:#fff;
  border-bottom:3px solid var(--lilac);
  padding:12px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  position:sticky;
  top:0;
  z-index:10;
}
.header .title {
  font-family:"Playfair Display",serif;
  font-size:1.3rem;
  color:#333;
}
.header .user { font-size:.9rem; color:#666; }

/* Sidebar */
.sidebar {
  grid-area:sidebar;
  background:#fff;
  border-right:3px solid var(--lilac);
  box-shadow:var(--shadow);
  padding:0 10px 16px;
  position:sticky;
  top:var(--header-h);
  align-self:start;
  height:calc(100vh - var(--header-h));
  overflow-y:auto;
}
.brand {
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px 6px 12px;
  border-bottom:2px solid var(--lilac);
  position:sticky;
  top:0;
  background:#fff;
  z-index:2;
}
.brand img {
  width:150px;
  max-width:90%;
  height:auto;
}

.nav {
  padding:12px 2px;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.nav a {
  display:flex;
  align-items:center;
  gap:10px;
  text-decoration:none;
  color:#333;
  background:#fff;
  border:1px solid #eee;
  padding:8px 10px;
  border-radius:12px;
  transition:all .25s ease;
  font-weight:500;
  line-height:1.2;
  text-align:left;
  word-break:break-word;
  white-space:normal;
}
.nav a:hover {
  transform:translateX(4px);
  box-shadow:var(--shadow);
}
.nav a.active {
  background:var(--rose);
  color:#fff;
  border-color:transparent;
}
.nav .ico {
  width:1.25rem;
  flex-shrink:0;
  text-align:center;
  font-size:1.1rem;
}

/* Main Content */
.main { grid-area:main; padding:18px; min-width:0; }
.panel {
  background:var(--card);
  border-radius:14px;
  box-shadow:var(--shadow);
  padding:20px;
}

/* Feed */
.feed h2 {
  font-family:"Playfair Display",serif;
  font-size:1.25rem;
  color:#333;
  border-bottom:2px solid var(--rose);
  padding-bottom:6px;
  margin-bottom:8px;
}
.feed-item {
  padding:14px 12px;
  border-left:4px solid var(--rose);
  background:#fafafa;
  margin-bottom:10px;
  border-radius:8px;
}

/* Payment Modal */
#paymentModal {
  display:none;
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:rgba(0,0,0,0.5);
  backdrop-filter:blur(3px);
  justify-content:center;
  align-items:center;
  z-index:999;
}
.payment-box {
  background:#fff;
  border-radius:16px;
  padding:30px;
  max-width:400px;
  width:90%;
  box-shadow:0 10px 30px rgba(0,0,0,0.2);
  text-align:center;
}
.payment-box h3 {
  font-family:'Playfair Display',serif;
  color:#333;
  margin-bottom:10px;
}
.payment-box input {
  width:100%;
  padding:10px;
  margin-bottom:10px;
  border:1px solid #ccc;
  border-radius:8px;
}
.payment-box button {
  margin-top:10px;
  background:var(--rose);
  color:#fff;
  border:none;
  padding:10px 30px;
  border-radius:40px;
  font-family:'Playfair Display',serif;
  font-size:1rem;
  cursor:pointer;
}
.payment-box button:hover { background:#d6a9a0; }

/* Payment History */
.payment-history {
  margin-top:25px;
  background:#fff;
  border-radius:10px;
  padding:14px 18px;
  box-shadow:var(--shadow);
}
.payment-history h3 {
  font-family:'Playfair Display',serif;
  font-size:1.2rem;
  margin-bottom:10px;
  color:#333;
}
.payment-item {
  border-left:4px solid var(--rose);
  background:#fafafa;
  border-radius:8px;
  padding:10px;
  margin-bottom:8px;
  font-size:.9rem;
}

/* Responsive Sidebar */
@media (max-width:900px) {
  .app { grid-template-columns:90px 1fr; }
  .brand img { width:60px; }
  .nav a { justify-content:center; font-size:0; padding:10px 8px; flex-direction:column; }
  .nav a::after {
    content:attr(data-short);
    display:block;
    font-size:.7rem;
    color:#555;
    margin-top:2px;
    white-space:nowrap;
  }
}
</style>
</head>

<body>
<div class="app">

<header class="header">
  <div class="title">Dashboard</div>
  <div class="user">Signed in as: <strong>User</strong></div>
</header>

<aside class="sidebar">
  <div class="brand"><img src="logo-transparent.png" alt="Logo"></div>
  <nav class="nav">
    <a href="#home" class="active" data-short="Home"><span class="ico">üè†</span> Home</a>
    <a href="#consult" data-short="Consult"><span class="ico">üìÖ</span> Consultations</a>
    <a href="#vault" data-short="Vault"><span class="ico">üóÑÔ∏è</span> JF Legal Vault</a>
    <a href="#services" data-short="Services"><span class="ico">‚öñÔ∏è</span> Legal Services</a>
    <a href="#ai" data-short="AI"><span class="ico">ü§ñ</span> AI Assistant</a>
    <a href="#messages" data-short="Msgs"><span class="ico">‚úâÔ∏è</span> Messages</a>
  </nav>
</aside>

<main class="main">

<section id="home" class="panel feed">
  <h2>Hi User ‚Äî Your Paralegal Assistant‚Äôs Updates</h2>
  <div class="feed-item"><strong>Retainer Signed</strong><small>Received on March 3, 2025.</small></div>
  <div class="feed-item"><strong>Consultation Scheduled</strong><small>Confirmed for March 10th, 10 AM CST.</small></div>
</section>

<section id="consult" class="panel" style="display:none;">
  <h2 style="font-family:'Playfair Display',serif;">Consultations</h2>
  <p style="color:#555;">A <strong>$250 consultation fee</strong> is required to confirm your booking.</p>
  <div class="calendly-inline-widget" data-url="https://calendly.com/kymfeltus/consultation" style="min-width:320px;height:600px;"></div>
  <script src="https://assets.calendly.com/assets/external/widget.js" async></script>

  <div style="text-align:center;margin-top:20px;">
    <button id="openPaymentModal" style="background:var(--rose);color:#fff;border:none;padding:14px 36px;border-radius:40px;font-family:'Playfair Display',serif;font-size:1.1rem;">Pay Consultation Fee</button>
  </div>

  <!-- Payment History -->
  <div class="payment-history" id="paymentHistory">
    <h3>Payment History</h3>
    <div id="paymentList"><p style="color:#777;">No payments yet.</p></div>
  </div>
</section>

</main>
</div>

<!-- Payment Modal -->
<div id="paymentModal">
  <div class="payment-box">
    <h3>Pay Consultation Fee</h3>
    <p>Amount Due: <strong>$250.00</strong></p>
    <form id="mockPaymentForm">
      <input type="text" placeholder="Cardholder Name" required>
      <input type="text" placeholder="Card Number" required>
      <div style="display:flex;gap:10px;">
        <input type="text" placeholder="MM/YY" required style="flex:1;">
        <input type="text" placeholder="CVC" required style="flex:1;">
      </div>
      <button type="submit">Submit Payment</button>
    </form>
    <p id="paymentMsg" style="margin-top:10px;font-weight:600;color:green;display:none;">Payment successful!</p>
    <button id="closePaymentModal" style="margin-top:10px;background:#999;color:#fff;border:none;padding:6px 18px;border-radius:30px;">Close</button>
  </div>
</div>

<script>
/* Navigation */
const routes=[...document.querySelectorAll('.nav a')].filter(a=>a.getAttribute('href').startsWith('#'));
const panels=[...document.querySelectorAll('main section[id]')];
function showPanel(id){
  panels.forEach(p=>p.style.display=(p.id===id)?'block':'none');
  routes.forEach(a=>a.classList.toggle('active',a.getAttribute('href')==='#'+id));
}
routes.forEach(a=>{
  a.addEventListener('click',e=>{
    const id=a.getAttribute('href').replace('#','');
    e.preventDefault();showPanel(id);history.pushState(null,'','#'+id);
  });
});
window.addEventListener('load',()=>showPanel(location.hash.replace('#','')||'home'));

/* Mock Payment Modal + Payment History */
const openPay=document.getElementById('openPaymentModal');
const closePay=document.getElementById('closePaymentModal');
const modalPay=document.getElementById('paymentModal');
const formPay=document.getElementById('mockPaymentForm');
const msgPay=document.getElementById('paymentMsg');
const list=document.getElementById('paymentList');

const KEY='paymentHistory';

function renderHistory(){
  const history=JSON.parse(localStorage.getItem(KEY)||'[]');
  list.innerHTML='';
  if(!history.length){ list.innerHTML='<p style="color:#777;">No payments yet.</p>'; return;}
  history.slice().reverse().forEach(p=>{
    const div=document.createElement('div');
    div.className='payment-item';
    div.innerHTML=`<strong>${p.amount}</strong> ‚Äì ${p.status}<br><small>${new Date(p.date).toLocaleString()}</small>`;
    list.appendChild(div);
  });
}
renderHistory();

if(openPay){openPay.onclick=()=>modalPay.style.display='flex';}
if(closePay){closePay.onclick=()=>modalPay.style.display='none';}
modalPay.onclick=e=>{if(e.target===modalPay)modalPay.style.display='none';}

if(formPay){
  formPay.onsubmit=e=>{
    e.preventDefault();
    msgPay.style.display='block';
    setTimeout(()=>{
      msgPay.style.display='none';
      modalPay.style.display='none';
      const history=JSON.parse(localStorage.getItem(KEY)||'[]');
      history.push({amount:'$250.00',status:'Paid',date:new Date().toISOString()});
      localStorage.setItem(KEY,JSON.stringify(history));
      renderHistory();
      alert('Mock payment processed and saved!');
    },1500);
  };
}
</script>
</body>
</html>
